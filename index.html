<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>개인 저장소</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="개인 저장소">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="개인 저장소">
<meta property="og:locale">
<meta property="article:author" content="Ming">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="개인 저장소" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">개인 저장소</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-엘레강트 오브젝트 1-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/21/%EC%97%98%EB%A0%88%EA%B0%95%ED%8A%B8%20%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%201-1/" class="article-date">
  <time datetime="2021-07-21T13:39:19.733Z" itemprop="datePublished">2021-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/21/%EC%97%98%EB%A0%88%EA%B0%95%ED%8A%B8%20%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%201-1/">엘레강트 오브젝트 1-1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="엘레강트-오브젝트"><a href="#엘레강트-오브젝트" class="headerlink" title="엘레강트 오브젝트"></a>엘레강트 오브젝트</h1><h3 id="새로운-관점에서-바라본-객체지향"><a href="#새로운-관점에서-바라본-객체지향" class="headerlink" title="새로운 관점에서 바라본 객체지향"></a>새로운 관점에서 바라본 객체지향</h3><h4 id="Yegor-Bugayenko-조영호-역"><a href="#Yegor-Bugayenko-조영호-역" class="headerlink" title="Yegor Bugayenko | 조영호 역"></a>Yegor Bugayenko | 조영호 역</h4><p>회사 동료가 추천해 준 책으로 책이 얇고(183p) 흥미로운 주제라서 읽게 되었다.<br>책을 읽으면서 요약내용을 해당 블로그에 작성할 예정으로,<br>한번 훑듯이 읽어봤을때는 제가 기존에 가지고있던 개념과 상당히 충돌되는 부분이 많아서 어떤면에서는 흥미로웠고 어떤면에서는 불쾌하기까지 (작가가 상당히 강경함) 하면서 읽었지만, 세상에 틀린의견은 없고 다른의견만 존재한다는 나름 제 가치관에 따라 즐겁게 읽고 요약내용을 남겨본다.</p>
<h2 id="1장-출생"><a href="#1장-출생" class="headerlink" title="1장 출생"></a>1장 출생</h2><h3 id="1-1-er로-끝나는-이름을-사용하지-마세요"><a href="#1-1-er로-끝나는-이름을-사용하지-마세요" class="headerlink" title="1.1 -er로 끝나는 이름을 사용하지 마세요"></a>1.1 -er로 끝나는 이름을 사용하지 마세요</h3><p>Java에서 제공하는 new 연산자가 충분히 강력하지 않음.<br>new 연산자로 할 수 있는 유일한 작업은 객체의 인스턴스를 생성하는 것일 뿐,<br>유사한 객체가 이미 존재하거나 재사용 가능한 지를 확인하지도 않으며,<br>new 가 동작하는 방식을 변경할 수 있는 어떤 매개 변수도 제공하지 않음</p>
<p>팩토리 패턴은 new 연산자를 대신해서 사용할 수 있는 더 강력한 옵션이기는 하지만,<br>개념적으로 팩토리 패턴과 new 연산자는 동일.<br>Java에서 팩토리 패턴은 new 연산자를 확장한 것 처럼 동작.<br>new연산자가 실행되기 전에 부가적인 로직을 더 할 수 있기 때문에, 좀더 유연하고 강력하게 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shapes</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Shape <span class="title">make</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (name.equals(<span class="string">"circle"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Circle();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (name.equals(<span class="string">"retangle"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Rectangle();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"not found"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>팩토리에서도 객체를 생성하는 최종 단계에서는 여전히 new 연산자를 사용함.<br>핵심은 개념상 팩토리 패턴과 new 연산자가 크게 다르지 않다는점.<br>클래스는 필요할 때 객체를 꺼낼 수 있고,<br>더 이상 필요하지 않은 객체를 반환 할 수 있는 객체의 웨어하우스로 클래스를 바라보는것을 추천</p>
<blockquote>
<p>클래스 = 객체의 팩토리</p>
</blockquote>
<p>클래스를 객체의 능동적인 관리자로 생각해야 한다는 것,<br>클래스는 객체를 꺼내거나 반환할 수 있는 위치이기 때문에,<br>클래스를 저장소 또는 웨어하우스라고 불러야 함</p>
<p>클래스의 네이밍방법에 대해 클래스의 객체들이 무엇을 하고있는(doing)지를 살펴본 후 기능(functionality)에 기반해서 이름을 짓는방법은 잘못된 방법.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CashFormatter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> dollars;</span><br><span class="line">    CashFormatter(<span class="keyword">int</span> dlr) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dollars = dlr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">format</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.format(<span class="string">"$ %d"</span>, <span class="keyword">this</span>.dollars);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이런식의 네이밍 원칙은 아주 잘못된 방식이지만 매우 인기가 많음<br>클래스의 이름은 객체가 노출하고 있는 기능에 기반해서는 안됨.<br><strong>클래스의 이름은 무엇을 하는지가 아닌 무엇인지에 기반해야함</strong><br>다음 예제와 같이</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cash</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> dollars;</span><br><span class="line">    Cash(<span class="keyword">int</span> dlr) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dollarws = dlr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">usd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.format(<span class="string">"$ %d"</span>, <span class="keyword">this</span>.dollars);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>객체는 그의 역량(capability)으로 특징지어져야함.<br>제가 어떤 사람인지는 키, 몸무게, 피부색과 같은 속성(attribute)이 아니라, 제가 할 수 있는일(what I can do)로 설명해야함.</p>
<p><strong>여기에 숨어있는 악마는 바로 접미사 ‘-er’</strong><br>‘-er’로 끝나는 이름을 가진 수많은 클래스가 존재함 Manager, Controller, Helper, Handler, Writer, Reader, Converter, Validator, Router, Dispatcher, Observer, Listener, Sorter, Encoder, Decoder …</p>
<p>객체는 객체의 외부 세계와 내부 세계를 이어주는 연결장치가 아님.<br>객체는 내부에 캡슐화된 데이터를 다루기 위해 요청 할 수 있는 절차의 집합이 아님.<br><strong>객체는 캡슐화된 데이터의 대표자(representative)</strong></p>
<p>그렇다면 올바른 클래스의 이름은 어떻게 지어야 할까?</p>
<p>클래스의 객체들이 무엇을 캡슐화 할 것이지,<br>이 요소들에 붙일 적합한 이름을 찾아야 함.<br>예를들어 임의의 숫자 리스트가 존재할 때, 이 리스트의 요소 중에서 소수를 찾는 알고리즘을 만단다는 가정 하<br>오직 소수만으로 구성된 리스트를 얻는 것이 목적이라면,<br>Primer, PrimeFinder, PrimeChooser, PrimeHelper 등으로 지으면 안됨.<br>PrimeNumbers라고 지어야함.</p>
<p>요약하면,<br>클래스의 이름을 붙일 때는 <strong>무엇을 하는지(what he does)</strong> 가 아닌 <strong>무엇인지(what he is)</strong>를 생각해야함.<br>내가 무성슬 하느지와 내가 누군지는 다르다.</p>
<blockquote>
<p><a href="https://www.yegor256.com/2015/03/09/objects-end-with-er.html" target="_blank" rel="noopener">https://www.yegor256.com/2015/03/09/objects-end-with-er.html</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2021/07/21/%EC%97%98%EB%A0%88%EA%B0%95%ED%8A%B8%20%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%201-1/" data-id="ckrdkv81b00139d2a4tpg4luh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Spring Rest Doc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/24/Spring%20Rest%20Doc/" class="article-date">
  <time datetime="2020-09-24T13:25:07.425Z" itemprop="datePublished">2020-09-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/24/Spring%20Rest%20Doc/">Spring Rest Doc</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>최근에 진행했던 프로젝트는 API문서화를 Swagger를 통해서 진행했었다.<br>Swagger를 사용하면서 Code에 덕지덕지 Annotation을 붙여나가니 코드가 너무 더러워(?) 보이기도 하고<br>중간중간 수정되는 부분에 대해 기민하게 대처가 되지 않았다.<br>그러던 와중 DS가 Spring Rest Doc에 대한 정보를 줘서 공부하면서 정리해 본다.</p>
<p>포스팅에 작성된 코드는 <a href="https://github.com/thinkub/spring-rest-doc/" target="_blank" rel="noopener">https://github.com/thinkub/spring-rest-doc/</a> 를 참고</p>
<h1 id="Spring-Rest-Doc"><a href="#Spring-Rest-Doc" class="headerlink" title="Spring Rest Doc"></a>Spring Rest Doc</h1><p>공식 문서에서 소개된 내용을 번역하면 아래와 같다.</p>
<blockquote>
<p>Spring Rest Doc은 작성 서비스에 대한 정확하고 읽기 쉬운 문서를 작성하는 데 있다. Spring REST Docs는 기본적으로 Asciidoctor를 사용한다. Asciidoctor는 일반 텍스트를 처리하고 HTML을 생산하며, 필요에 맞게 스타일링하고 배치한다. 원하는 경우 Markdown을 사용하도록 Spring REST 문서를 구성할 수도 있다.<br>Spring REST Docs는 Spring MVC의 테스트 프레임워크, Spring WebFlux의 WebTestClient 또는 REST Assured으로 작성된 테스트에 의해 생산된 스니펫을 사용한다. 이러한 테스트 기반 접근 방식은 서비스 설명서의 정확성을 보장하는 데 도움이 된다. 코드 조각이 틀리면 이를 생성하는 테스트가 실패한다.</p>
</blockquote>
<p>간단하게 말해 Test Code기반으로 API문서를 생성해준다.<br>그렇기 때문에 Controller Layer에서의 테스트 코드는 필수 적으로 작성이 되어야 하며 통과가 되어야 한다. </p>
<h1 id="시작하기"><a href="#시작하기" class="headerlink" title="시작하기"></a>시작하기</h1><h3 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h3><ul>
<li>Java 8 이상</li>
<li>Spring Framework 5 (5.0.2 or later)</li>
</ul>
<h3 id="build-gradle"><a href="#build-gradle" class="headerlink" title="build.gradle"></a>build.gradle</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">'org.springframework.boot'</span> version <span class="string">'2.3.4.RELEASE'</span></span><br><span class="line">    id <span class="string">'io.spring.dependency-management'</span> version <span class="string">'1.0.10.RELEASE'</span></span><br><span class="line">    id <span class="string">'org.asciidoctor.convert'</span> version <span class="string">'1.5.9.2'</span></span><br><span class="line">    id <span class="string">'java'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">group</span> = <span class="string">'com.ming'</span></span><br><span class="line">version = <span class="string">'0.0.1-SNAPSHOT'</span></span><br><span class="line"><span class="keyword">sourceCompatibility</span> = <span class="string">'11'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">configurations</span> &#123;</span><br><span class="line">    compileOnly &#123;</span><br><span class="line">        extendsFrom annotationProcessor</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">repositories</span> &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ext &#123;</span><br><span class="line">    set(<span class="string">'snippetsDir'</span>, <span class="keyword">file</span>(<span class="string">"build/generated-snippets"</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    implementation <span class="string">'org.springframework.boot:spring-boot-starter-data-jpa'</span></span><br><span class="line">    implementation <span class="string">'org.springframework.boot:spring-boot-starter-web'</span></span><br><span class="line">    compileOnly <span class="string">'org.projectlombok:lombok'</span></span><br><span class="line">    runtimeOnly <span class="string">'com.h2database:h2'</span></span><br><span class="line">    annotationProcessor <span class="string">'org.projectlombok:lombok'</span></span><br><span class="line">    testImplementation(<span class="string">'org.springframework.boot:spring-boot-starter-test'</span>) &#123;</span><br><span class="line">        <span class="keyword">exclude</span> <span class="keyword">group</span>: <span class="string">'org.junit.vintage'</span>, module: <span class="string">'junit-vintage-engine'</span></span><br><span class="line">    &#125;</span><br><span class="line">    testImplementation <span class="string">'org.springframework.restdocs:spring-restdocs-mockmvc'</span></span><br><span class="line">    testImplementation <span class="string">"org.junit.jupiter:junit-jupiter-api"</span></span><br><span class="line">    testImplementation <span class="string">"org.junit.jupiter:junit-jupiter-params"</span></span><br><span class="line">    testRuntimeOnly <span class="string">"org.junit.jupiter:junit-jupiter-engine"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test &#123;</span><br><span class="line">    outputs.dir snippetsDir</span><br><span class="line">    useJUnitPlatform()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">asciidoctor &#123;</span><br><span class="line">    inputs.dir snippetsDir</span><br><span class="line">    dependsOn test</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">asciidoctor.<span class="keyword">doFirst</span> &#123;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">file</span>(<span class="string">'src/main/resources/static/docs'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">task</span> copyDocument(type: <span class="keyword">Copy</span>) &#123;</span><br><span class="line">    dependsOn asciidoctor</span><br><span class="line">    <span class="keyword">from</span> <span class="keyword">file</span>(<span class="string">"build/asciidoc/html5"</span>)</span><br><span class="line">    <span class="keyword">into</span> <span class="keyword">file</span>(<span class="string">"src/main/resources/static/docs"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">build &#123;</span><br><span class="line">    dependsOn copyDocument</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bootJar &#123;</span><br><span class="line">    dependsOn asciidoctor</span><br><span class="line">    <span class="keyword">from</span> (<span class="string">"$&#123;asciidoctor.outputDir&#125;/html5"</span>) &#123;</span><br><span class="line">        <span class="keyword">into</span> <span class="string">'static/docs'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Sample-User-Api"><a href="#Sample-User-Api" class="headerlink" title="Sample User Api"></a>Sample User Api</h3><h4 id="UserController-java"><a href="#UserController-java" class="headerlink" title="UserController.java"></a>UserController.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/&#123;userSeq&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title">findUser</span><span class="params">(@PathVariable Long userSeq)</span> </span>&#123;</span><br><span class="line">        User user = userService.findUserByUserSeq(userSeq);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().body(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title">createUser</span><span class="params">(@RequestBody User.Create createUser)</span> </span>&#123;</span><br><span class="line">        User user = userService.createUser(createUser);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().body(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping</span>(<span class="string">"/&#123;userSeq&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title">modifyUser</span><span class="params">(@PathVariable Long userSeq, @RequestBody User.Modify modify)</span> </span>&#123;</span><br><span class="line">        User user = userService.modifyUser(userSeq, modify);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().body(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/&#123;userSeq&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">deleteUser</span><span class="params">(@PathVariable Long userSeq)</span> </span>&#123;</span><br><span class="line">        userService.deleteUser(userSeq);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UserController-Test-Code"><a href="#UserController-Test-Code" class="headerlink" title="UserController Test Code"></a>UserController Test Code</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExtendWith</span>(&#123;RestDocumentationExtension<span class="class">.<span class="keyword">class</span>, <span class="title">SpringExtension</span>.<span class="title">class</span>&#125;)</span></span><br><span class="line"><span class="class">@<span class="title">WebMvcTest</span>(<span class="title">UserController</span>.<span class="title">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">AutoConfigureRestDocs</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">UserControllerTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MockMvc mockMvc;</span><br><span class="line">    <span class="meta">@MockBean</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ObjectMapper objectMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">findUser</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        given(userService.findUserByUserSeq(<span class="number">1L</span>)).willReturn(User.of(<span class="number">1L</span>, <span class="string">"thinkub"</span>, <span class="string">"Ming"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        ResultActions resultActions = mockMvc.perform(RestDocumentationRequestBuilders.get(<span class="string">"/user/&#123;userSeq&#125;"</span>, <span class="number">1L</span>)</span><br><span class="line">                .accept(MediaType.APPLICATION_JSON_VALUE))</span><br><span class="line">                .andDo(MockMvcResultHandlers.print());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        resultActions.andExpect(status().isOk())</span><br><span class="line">                .andDo(document(</span><br><span class="line">                        <span class="string">"findUser"</span>,</span><br><span class="line">                        getDocumentRequest(),</span><br><span class="line">                        getDocumentResponse(),</span><br><span class="line">                        pathParameters(parameterWithName(<span class="string">"userSeq"</span>).description(<span class="string">"사용자 시퀀스"</span>)),</span><br><span class="line">                        responseFields(</span><br><span class="line">                                fieldWithPath(<span class="string">"userSeq"</span>).type(JsonFieldType.NUMBER).description(<span class="string">"사용자 시퀀스"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userId"</span>).type(JsonFieldType.STRING).description(<span class="string">"아이디"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userName"</span>).type(JsonFieldType.STRING).description(<span class="string">"이름"</span>)</span><br><span class="line">                        )</span><br><span class="line">                ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">createUser</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        User.Create create = User.Create.of(<span class="string">"thinkub"</span>, <span class="string">"Ming"</span>);</span><br><span class="line">        given(userService.createUser(any())).willReturn(User.of(<span class="number">1L</span>, <span class="string">"thinkub"</span>, <span class="string">"Ming"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        ResultActions resultActions = mockMvc.perform(RestDocumentationRequestBuilders.post(<span class="string">"/user"</span>)</span><br><span class="line">                .accept(MediaType.APPLICATION_JSON_VALUE)</span><br><span class="line">                .contentType(MediaType.APPLICATION_JSON_VALUE)</span><br><span class="line">                .content(objectMapper.writeValueAsString(create)))</span><br><span class="line">                .andDo(MockMvcResultHandlers.print());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        resultActions.andExpect(status().isOk())</span><br><span class="line">                .andDo(document(</span><br><span class="line">                        <span class="string">"createUser"</span>,</span><br><span class="line">                        getDocumentRequest(),</span><br><span class="line">                        getDocumentResponse(),</span><br><span class="line">                        requestFields(</span><br><span class="line">                                fieldWithPath(<span class="string">"userId"</span>).type(JsonFieldType.STRING).description(<span class="string">"아이디"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userName"</span>).type(JsonFieldType.STRING).description(<span class="string">"이름"</span>).optional()</span><br><span class="line">                        ),</span><br><span class="line">                        responseFields(</span><br><span class="line">                                fieldWithPath(<span class="string">"userSeq"</span>).type(JsonFieldType.NUMBER).description(<span class="string">"사용자 시퀀스"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userId"</span>).type(JsonFieldType.STRING).description(<span class="string">"아이디"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userName"</span>).type(JsonFieldType.STRING).description(<span class="string">"이름"</span>)</span><br><span class="line">                        )</span><br><span class="line">                ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">modifyUser</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        User.Modify modify = User.Modify.of(<span class="string">"thinkub-new"</span>, <span class="string">"Ming-new"</span>);</span><br><span class="line">        User user = User.of(<span class="number">1L</span>, <span class="string">"thinkub-new"</span>, <span class="string">"Ming-new"</span>);</span><br><span class="line">        given(userService.modifyUser(eq(<span class="number">1L</span>), any())).willReturn(user);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        ResultActions resultActions = mockMvc.perform(RestDocumentationRequestBuilders.put(<span class="string">"/user/&#123;userSeq&#125;"</span>, <span class="number">1L</span>)</span><br><span class="line">                .accept(MediaType.APPLICATION_JSON)</span><br><span class="line">                .contentType(MediaType.APPLICATION_JSON)</span><br><span class="line">                .content(objectMapper.writeValueAsString(modify)))</span><br><span class="line">                .andDo(MockMvcResultHandlers.print());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        resultActions.andExpect(status().isOk())</span><br><span class="line">                .andDo(document(</span><br><span class="line">                        <span class="string">"modifyUser"</span>,</span><br><span class="line">                        getDocumentRequest(),</span><br><span class="line">                        getDocumentResponse(),</span><br><span class="line">                        pathParameters(parameterWithName(<span class="string">"userSeq"</span>).description(<span class="string">"사용자 시퀀스"</span>)),</span><br><span class="line">                        requestFields(</span><br><span class="line">                                fieldWithPath(<span class="string">"userId"</span>).type(JsonFieldType.STRING).description(<span class="string">"아이디"</span>).optional(),</span><br><span class="line">                                fieldWithPath(<span class="string">"userName"</span>).type(JsonFieldType.STRING).description(<span class="string">"이름"</span>).optional()</span><br><span class="line">                        ),</span><br><span class="line">                        responseFields(</span><br><span class="line">                                fieldWithPath(<span class="string">"userSeq"</span>).type(JsonFieldType.NUMBER).description(<span class="string">"사용자 시퀀스"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userId"</span>).type(JsonFieldType.STRING).description(<span class="string">"아이디"</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">"userName"</span>).type(JsonFieldType.STRING).description(<span class="string">"이름"</span>)</span><br><span class="line">                        )</span><br><span class="line">                ));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        doNothing().when(userService).deleteUser(<span class="number">1L</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        ResultActions resultActions = mockMvc.perform(RestDocumentationRequestBuilders.delete(<span class="string">"/user/&#123;userSeq&#125;"</span>, <span class="number">1L</span>)</span><br><span class="line">                .accept(MediaType.APPLICATION_JSON_VALUE))</span><br><span class="line">                .andDo(MockMvcResultHandlers.print());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        resultActions.andExpect(status().isOk())</span><br><span class="line">                .andDo(document(</span><br><span class="line">                        <span class="string">"deleteUser"</span>,</span><br><span class="line">                        getDocumentRequest(),</span><br><span class="line">                        getDocumentResponse(),</span><br><span class="line">                        pathParameters(parameterWithName(<span class="string">"userSeq"</span>).description(<span class="string">"사용자 시퀀스"</span>))</span><br><span class="line">                ));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a href="https://docs.spring.io/spring-restdocs/docs/current/reference/html5/" target="_blank" rel="noopener">https://docs.spring.io/spring-restdocs/docs/current/reference/html5/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/24/Spring%20Rest%20Doc/" data-id="ckrdkv816000x9d2ab4vudeal" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JPA Cascade" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/14/JPA%20Cascade/" class="article-date">
  <time datetime="2020-09-14T13:58:58.991Z" itemprop="datePublished">2020-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/14/JPA%20Cascade/">JPA Cascade</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="영속성-전의란"><a href="#영속성-전의란" class="headerlink" title="영속성 전의란?"></a>영속성 전의란?</h1><p>엔티티간 연관관계에 있는 경우, 즉 A엔티티와 B엔티티는 연관관계인 경우 A엔티티가 영속 상태일때 B엔티티도 영속 상태일까?<br>일반적으로 별도 설정을 해주지 않는다면 B엔티티는 영속상태가 아니다. 이 경우 B엔티티를 영속 상태를 만들기 위해 영속성 전이를 할 수 있다.<br>JPA는 CASCADE 옵션으로 영속성 전이 기능을 제공한다. </p>
<h4 id="간단한-예제"><a href="#간단한-예제" class="headerlink" title="간단한 예제"></a>간단한 예제</h4><ul>
<li><p>부모 엔티티</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToMany</span>(mappedBy = <span class="string">"parent"</span>)</span><br><span class="line">    <span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;Child&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>자식 엔티티</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Child</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ManyToOne</span></span><br><span class="line">    <span class="keyword">private</span> Parent parent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>만약 부모 1명에 자식 2명을 저장한다고 할때 영속성 전이를 이용하지 않는 다면 아래와 같이 작성하게 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">saveNoCascade</span><span class="params">(EntityManager em)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 부모 저장</span></span><br><span class="line">    Parent parent = <span class="keyword">new</span> Parent();</span><br><span class="line">    em.persist(parent);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1번 자식 저장</span></span><br><span class="line">    Child child1 = <span class="keyword">new</span> Child();</span><br><span class="line">    child1.setParent(parent); <span class="comment">// 자식 -&gt; 부모 연관관계설정</span></span><br><span class="line">    parent.getChildren().add(child1); <span class="comment">// 부모 -&gt; 자식</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2번 자식 저장</span></span><br><span class="line">    Child child2 = <span class="keyword">new</span> Child();</span><br><span class="line">    child2.setParent(parent); <span class="comment">// 자식 -&gt; 부모 연관관계설정</span></span><br><span class="line">    parent.getChildren().add(child2); <span class="comment">// 부모 -&gt; 자식</span></span><br><span class="line">    em.persist(child);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="영속성-전이-저장"><a href="#영속성-전이-저장" class="headerlink" title="영속성 전이 - 저장"></a>영속성 전이 - 저장</h2><p>영속성 전이를 활성화 하는 CASCADE옵션을 적용 해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@OneToMany</span>(mappedBy = <span class="string">"parent"</span>, cascade = CascadeType.PERSIST)</span><br><span class="line">    <span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;Child&gt;();</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>CASCADE옵션을 지정 후 위의 저장 로직을 아래와 같이 수정 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">saveWithCascade</span><span class="params">(EntityManager em)</span> </span>&#123;</span><br><span class="line">    Child child1 = <span class="keyword">new</span> Child();</span><br><span class="line">    Child child2 = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line">    Parent parent = <span class="keyword">new</span> Parent();</span><br><span class="line">    child1.setParent(parent); <span class="comment">// 연관관계 추가</span></span><br><span class="line">    child2.setParent(parent); <span class="comment">// 연관관계 추가</span></span><br><span class="line">    </span><br><span class="line">    parent.getChildren().add(child1);</span><br><span class="line">    parent.getChildren().add(child1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 부모 저장, 연관된 자식들 저장</span></span><br><span class="line">    em.persist(parent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>부모만 영속화 하면 CascadeType.PERSIST로 설정한 자식 엔티티까지 함께 영속화해서 저장한다.</p>
<h2 id="CASCADE-종류"><a href="#CASCADE-종류" class="headerlink" title="CASCADE 종류"></a>CASCADE 종류</h2><p>CascadeType 코드를 보면 아래와 같이 enum으로 정의되어있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> CascadeType &#123; </span><br><span class="line">    <span class="comment">/** Cascade all operations - 모두 적용 */</span></span><br><span class="line">    ALL, </span><br><span class="line">    <span class="comment">/** Cascade persist operation - 영속 */</span></span><br><span class="line">    PERSIST, </span><br><span class="line">    <span class="comment">/** Cascade merge operation - 병합 */</span></span><br><span class="line">    MERGE, </span><br><span class="line">    <span class="comment">/** Cascade remove operation - 삭제 */</span></span><br><span class="line">    REMOVE,</span><br><span class="line">    <span class="comment">/** Cascade refresh operation */</span></span><br><span class="line">    REFRESH,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Cascade detach operation</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2.0</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     */</span>   </span><br><span class="line">    DETACH</span><br></pre></td></tr></table></figure>
<p>참고로 <code>CascadeType.PERSIST</code> 와 <code>CascadeType.REMOVE</code> 는 em.persist(), em.remove()를 실행할때 바로 전이가 발생하지 않고 플러시가 호출 될 때 전이가 발생한다.</p>
<h2 id="고아-객체"><a href="#고아-객체" class="headerlink" title="고아 객체"></a>고아 객체</h2><p>JPA는 부모 엔티티와 연관관계가 끊어진 자식 엔티티를 자동으로 삭제하는 기능을 제공하는데 이것ㄷ을 고아 객체(ORPHAN) 제거라 한다.<br>이 기능을 사용해서 부모 엔티티의 컬렉션에서 자식 엔티티의 참조만 제거하면 자식 엔티티가 자동으로 삭제되도록 설정 할 수 있다.<br>옵션중 orphanRemoval을 설정하면 고아 객체는 자동으로 삭제 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OneToMany</span>(mappedBy = <span class="string">"parent"</span>, orphanRemoval = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">private</span> List&lt;Child&gt; children = <span class="keyword">new</span> ArrayList&lt;Child&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/14/JPA%20Cascade/" data-id="ckrdkv80t000j9d2aewfu37jg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JPA Entity LifeCycle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/08/JPA%20Entity%20LifeCycle/" class="article-date">
  <time datetime="2020-09-08T13:34:53.101Z" itemprop="datePublished">2020-09-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/08/JPA%20Entity%20LifeCycle/">JPA Entity LifeCycle</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JPA를 이용해서 플젝을 진행하면서 구글링을 열심히 하면서 개발하다보니 뭔가 기초가 다져지지 않은 모래성 위에 집을 짓는 기분이랄까? 그런 생각이 들어서 JPA 서적을 하나 구입해서 기초부터 탄탄히 공부해보기로 했다.</p>
<p>책은 <a href="https://ridibooks.com/books/3984000009?_s=search&_q=jpa" target="_blank" rel="noopener">자바 ORM 표준 JPA 프로그래밍</a> 보면서 스터디를 진행했다.</p>
<h1 id="엔티티-생명주기"><a href="#엔티티-생명주기" class="headerlink" title="엔티티 생명주기"></a>엔티티 생명주기</h1><p>엔티티는 4가지 상태가 존재한다.</p>
<ul>
<li>비영속(new/transient): 영속성 컨텍스트와 전혀 관계가 없는 상태</li>
<li>영속(managed): 영속성 컨텍스트에 저장된 상태</li>
<li>준영속(detached): 영속성 컨텍스트에 저장되었다가 분리된 상태</li>
<li>삭제(removed): 삭제된 상태</li>
</ul>
<h1 id="비영속"><a href="#비영속" class="headerlink" title="비영속"></a>비영속</h1><p>엔티티 객체를 생성한 상태로 순수한 객체 상태이며 아직 저장하지 않았다. 따라서 영속성 컨텍스트나 데이터 베이스와 전혀 관련이 없는 상태</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Member member = <span class="keyword">new</span> Member();</span><br><span class="line">member.setId(<span class="string">"thinkub"</span>);</span><br><span class="line">member.setUserName(<span class="string">"Ming"</span>);</span><br></pre></td></tr></table></figure>

<h1 id="영속"><a href="#영속" class="headerlink" title="영속"></a>영속</h1><p>엔티티 메니저를 통해 엔티티를 영속성 컨텍스트에 저장했다. 이렇게 영속성 컨텍스트가 관리하는 엔티티를 영속 상태라 한다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em.persist(member);</span><br></pre></td></tr></table></figure>

<h1 id="준영속"><a href="#준영속" class="headerlink" title="준영속"></a>준영속</h1><p>영속성 컨텍스트가 관리하던 영속상태의 엔티티를 영속성 컨텍스트가 관리하지 않으면 준영속 상태가 된다. 특정 엔티티를 준영속 상태로 만들려면 <code>em.detach()</code>를 호출하면 된다. <code>em.close()</code>를 호출해서 영속성 컨텍스트를 닫거나 <code>em.clear()</code>를 호출해서 영속성 컨텍스트를 초기화해도 영속성 컨텍스트가 관리하던 영속상태의 엔티티는 준영속 상태가 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em.detach(member);</span><br></pre></td></tr></table></figure>

<h1 id="삭제"><a href="#삭제" class="headerlink" title="삭제"></a>삭제</h1><p>엔티티를 영속성 컨텍스트와 데이터 베이스에서 삭제한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em.remove(member);</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/08/JPA%20Entity%20LifeCycle/" data-id="ckrdkv80v000l9d2afmrf782m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java14 Releases notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/Java14%20Releases%20notes/" class="article-date">
  <time datetime="2020-09-07T13:50:43.331Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/Java14%20Releases%20notes/">Java14 Releases notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><ul>
<li><a href="https://thinkub.github.io/2020/08/26/Java10%20Releases%20notes/" target="_blank" rel="noopener">java10</a> (GA 2018/03/20)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java11%20Releases%20notes/" target="_blank" rel="noopener">java11</a> (GA 2018/09/25)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java12%20Releases%20notes/" target="_blank" rel="noopener">java12</a> (GA 2019/03/19)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java13%20Releases%20notes/" target="_blank" rel="noopener">java13</a> (GA 2019/09/17)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java14%20Releases%20notes/" target="_blank" rel="noopener">java14</a> (GA 2020/03/17)</li>
</ul>
<h2 id="JEP-305-Pattern-Matching-for-instanceof-Preview"><a href="#JEP-305-Pattern-Matching-for-instanceof-Preview" class="headerlink" title="JEP 305: Pattern Matching for instanceof (Preview)"></a><a href="https://openjdk.java.net/jeps/305" target="_blank" rel="noopener">JEP 305: Pattern Matching for instanceof (Preview)</a></h2><p>런타임 객체의 타입을 기존에는 instanceof 가 좀더 간결하고 안전하게 사용 할 수 있다.<br>아직 Preview이기 때문에 <code>--enable-preview</code> 옵션을 줘야 사용할 수 있는 기능이다.</p>
<p>기존엔 아래 와 같이 사용을 했다면 (캐스팅을 해야 한다.)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">    String s = (String) obj;</span><br><span class="line">    <span class="comment">// use s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String s) &#123;</span><br><span class="line">    <span class="comment">// can use s here</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// can't use s here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>향후 JEP는 switch표현식 및 명령문과 같은 다른 언어 구조에 대한 패턴 일치를 통해 Java 프로그래밍 언어를 향상시킬 계획이다.</p>
<h2 id="JEP-345-NUMA-Aware-Memory-Allocation-for-G1"><a href="#JEP-345-NUMA-Aware-Memory-Allocation-for-G1" class="headerlink" title="JEP 345: NUMA-Aware Memory Allocation for G1"></a><a href="https://openjdk.java.net/jeps/345" target="_blank" rel="noopener">JEP 345: NUMA-Aware Memory Allocation for G1</a></h2><p>NUMA(Non-Uniform Memory Access) 인식 메모리 할당을 구현하여 대형 컴퓨터에서 G1성능이 향상되었다. </p>
<h2 id="JEP-358-Helpful-NullPointerExceptions"><a href="#JEP-358-Helpful-NullPointerExceptions" class="headerlink" title="JEP 358: Helpful NullPointerExceptions"></a><a href="https://openjdk.java.net/jeps/358" target="_blank" rel="noopener">JEP 358: Helpful NullPointerExceptions</a></h2><p>NullPointerException정확히 어떤 변수인지 설명하여 사용성을 향상되었다.<br>예를 들어 아래와 같은코드에서 NPE가 발생하게 된다면 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.i = <span class="number">99</span>;</span><br></pre></td></tr></table></figure>
<p>아래와 같은 에러 메세지를 볼 수 있다. 아래 에러 메시지로도 충분히 a가 null이라는 것 을 유추 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">"main"</span> java.lang.NullPointerException</span><br><span class="line">    at Prog.main(Prog.java:<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p>하지만 아래와 같은 코드에서는 기존 노출되는 에러메시지 만으로는 어떤 객체에서 NPE가 발생 한지 찾기 어렵다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.b.c.i = <span class="number">99</span>;</span><br><span class="line">a[i][j][k] = <span class="number">99</span>;</span><br></pre></td></tr></table></figure>
<p>Java14에서 추가된 Helpful NullPointerExceptions 을 사용한다면 좀더 세분화된 에러 메세지를 볼 수 있다. 단 사용하기 위해선 실행 옵션에 <code>-XX:+ShowCodeDetailsInExceptionMessages</code> 를 넣어줘야 한다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">"main"</span> java.lang.NullPointerException: </span><br><span class="line">        Cannot assign field <span class="string">"i"</span> because <span class="string">"a"</span> is <span class="keyword">null</span></span><br><span class="line">    at Prog.main(Prog.java:<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">"main"</span> java.lang.NullPointerException: </span><br><span class="line">        Cannot read field <span class="string">"c"</span> because <span class="string">"a.b"</span> is <span class="keyword">null</span></span><br><span class="line">    at Prog.main(Prog.java:<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">"main"</span> java.lang.NullPointerException:</span><br><span class="line">        Cannot load from object array because <span class="string">"a[i][j]"</span> is <span class="keyword">null</span></span><br><span class="line">    at Prog.main(Prog.java:<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">"main"</span> java.lang.NullPointerException:</span><br><span class="line">        Cannot read field <span class="string">"j"</span> because <span class="string">"b"</span> is <span class="keyword">null</span></span><br><span class="line">    at Prog.main(Prog.java:<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h2 id="JEP-359-Records-Preview"><a href="#JEP-359-Records-Preview" class="headerlink" title="JEP 359: Records (Preview)"></a><a href="https://openjdk.java.net/jeps/359" target="_blank" rel="noopener">JEP 359: Records (Preview)</a></h2><p>Java Class를 생성하게 되면 생성자, getter, setter등을 구현해야 하고 equals(), hashcode(), toString()과 같은 메서드들도 오버라이딩 해주는 등 코드가 너무 장황해진다. 물론 lombok을 사용하면 이러한 부분을 간소화 할 수 있는데, 이를 보완 하기 위해 나온 기능이 Records이다. 단, 아직 Preview이기 때문에 <code>--enable-preview</code> 옵션을 줘야 사용할 수 있는 기능이다.</p>
<p>아래와 같이 구현할 수 있다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">record <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Point point = <span class="keyword">new</span> Point(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>getter, setter, 생성자 등 구현하지 않아도 되며 equals(), hashcode(), toString() 기본적으로 오버라이딩 되어있다.<br>불변이고, 클레스이기 때문에 인스턴스 필드에 접근제어자를 붙일 수 없으며, 내부데이터를 변경 할 수 없다. (초기화 필드는 기본적으로 private final 이다.) 하지만 static 필드와 메서드를 가질 수 있다. 추가로 클래스를 상속 받을 수 없으며 인터페이스만 구현가능하다.</p>
<h3 id="JEP-361-Switch-Expressions-Standard"><a href="#JEP-361-Switch-Expressions-Standard" class="headerlink" title="JEP 361: Switch Expressions (Standard)"></a><a href="https://openjdk.java.net/jeps/361" target="_blank" rel="noopener">JEP 361: Switch Expressions (Standard)</a></h3><p>이전 블로그인 Java12, Java13에서 Preview로 추가되었던 기능이 드디어 Stansard되었다. 기존 블로그를 참고하자.</p>
<h3 id="JEP-363-Remove-the-Concurrent-Mark-Sweep-CMS-Garbage-Collector"><a href="#JEP-363-Remove-the-Concurrent-Mark-Sweep-CMS-Garbage-Collector" class="headerlink" title="JEP 363: Remove the Concurrent Mark Sweep (CMS) Garbage Collector"></a><a href="https://openjdk.java.net/jeps/363" target="_blank" rel="noopener">JEP 363: Remove the Concurrent Mark Sweep (CMS) Garbage Collector</a></h3><p>CMS GC가 삭제 되었다. 기존 JAVA9에서 Deprecated되었는데 Java에서는 아예 삭제가 되었다.<br>ZGC의 MacOS와 Windows 지원이 이번 릴리즈에 포함된거 보면 (<a href="https://openjdk.java.net/jeps/364" target="_blank" rel="noopener">JEP 364</a><a href="https://openjdk.java.net/jeps/365" target="_blank" rel="noopener">JEP 365</a>) G1GC나 ZGC를 이용하라는것 같다.</p>
<h3 id="JEP-368-Text-Blocks-Second-Preview"><a href="#JEP-368-Text-Blocks-Second-Preview" class="headerlink" title="JEP 368: Text Blocks (Second Preview)"></a><a href="https://openjdk.java.net/jeps/368" target="_blank" rel="noopener">JEP 368: Text Blocks (Second Preview)</a></h3><p>Java13에 Preview로 소개되었던 멀티라인 문자열 기능이 이번에 릴리즈 될 줄 알았건만… Second Preview로 다시 소개 되었다.<br><code>--enable-preview</code> 옵션을 줘야 사용할 수 있는 기능이다.</p>
<p>멀티라인 문자열을 사용하기 위해서 아래와 같이 <code>+</code>와 <code>\n</code> 을 이용하여 문자열을 붙여야 했지만</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String html = <span class="string">"&lt;html&gt;\n"</span> +</span><br><span class="line">              <span class="string">"    &lt;body&gt;\n"</span> +</span><br><span class="line">              <span class="string">"        &lt;p&gt;Hello, world&lt;/p&gt;\n"</span> +</span><br><span class="line">              <span class="string">"    &lt;/body&gt;\n"</span> +</span><br><span class="line">              <span class="string">"&lt;/html&gt;\n"</span>;</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
<p>아래와 같이 사용이 가능하다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String html = <span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">              "</span><span class="string">""</span>;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/07/Java14%20Releases%20notes/" data-id="ckrdkv812000s9d2ad1xsh37h" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java13 Releases notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/Java13%20Releases%20notes/" class="article-date">
  <time datetime="2020-09-07T13:27:08.645Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/Java13%20Releases%20notes/">Java13 Releases notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><ul>
<li><a href="https://thinkub.github.io/2020/08/26/Java10%20Releases%20notes/" target="_blank" rel="noopener">java10</a> (GA 2018/03/20)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java11%20Releases%20notes/" target="_blank" rel="noopener">java11</a> (GA 2018/09/25)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java12%20Releases%20notes/" target="_blank" rel="noopener">java12</a> (GA 2019/03/19)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java13%20Releases%20notes/" target="_blank" rel="noopener">java13</a> (GA 2019/09/17)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java14%20Releases%20notes/" target="_blank" rel="noopener">java14</a> (GA 2020/03/17)</li>
</ul>
<h2 id="JEP-350-Dynamic-CDS-Archives"><a href="#JEP-350-Dynamic-CDS-Archives" class="headerlink" title="JEP 350: Dynamic CDS Archives"></a><a href="https://openjdk.java.net/jeps/350" target="_blank" rel="noopener">JEP 350: Dynamic CDS Archives</a></h2><p>애플리케이션 클래스-데이터 공유 를 확장 하여 Java 애플리케이션 실행 종료시 클래스의 동적 아카이브를 허용한다.<br>아카이브 된 클래스에는 기본 기본 계층 CDS 아카이브에 없는 로드 된 모든 애플리케이션 클래스와 라이브러리 클래스가 포함된다.<br>CDS 란 (Class-Data Sharing) 성능 (애플리케이션의 사작 또는 종료)을 향상시키기 위해 Java 애플리케이션 프로세스들 사이에 공통적인 클래스 메타데이터를 공유하는 기능이다.</p>
<h2 id="JEP-351-ZGC-Uncommit-Unused-Memory-Experimental"><a href="#JEP-351-ZGC-Uncommit-Unused-Memory-Experimental" class="headerlink" title="JEP 351: ZGC: Uncommit Unused Memory (Experimental)"></a><a href="https://openjdk.java.net/jeps/351" target="_blank" rel="noopener">JEP 351: ZGC: Uncommit Unused Memory (Experimental)</a></h2><p>사용하지 않는 힙 메모리를 운영 체제에 반환하도록 ZGC를 향상시킨다. ZGC는 메모리를 오랫동안 사용하지 않은 경우에도 현재 메모리를 커밋 해제하고 운영 체제에 반환하지 않는 문제가 있는데 이런 부분이 개선되었다.</p>
<h2 id="JEP-353-Reimplement-the-Legacy-Socket-API"><a href="#JEP-353-Reimplement-the-Legacy-Socket-API" class="headerlink" title="JEP 353: Reimplement the Legacy Socket API"></a><a href="https://openjdk.java.net/jeps/353" target="_blank" rel="noopener">JEP 353: Reimplement the Legacy Socket API</a></h2><p>java.net.Socket 및 java.net.ServerSocketAPI에서 사용하는 기본 구현을 유지 관리 및 디버그가 쉬운 더 간단하고 현대적인 구현으로 교체되었다. </p>
<h2 id="JEP-354-Switch-Expressions-Second-Preview"><a href="#JEP-354-Switch-Expressions-Second-Preview" class="headerlink" title="JEP 354: Switch Expressions (Second Preview)"></a><a href="https://openjdk.java.net/jeps/354" target="_blank" rel="noopener">JEP 354: Switch Expressions (Second Preview)</a></h2><p>java 12 에서 추가된 기능으로 Second Previe다. Java 12와 마찬가지로 아직 Preview이기 때문에 <code>--enable-preview</code> 옵션을 줘야 사용할 수 있는 기능이다.<br>사용법에 대해선 이전 Java12 Release notes에 작성하였고 이번 Second Preview에 추가된 yield 키워드의 example을 살펴보겠다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> j = <span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MONDAY  -&gt; <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">case</span> TUESDAY -&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">default</span>      -&gt; &#123;</span><br><span class="line">        <span class="keyword">int</span> k = day.toString().length();</span><br><span class="line">        <span class="keyword">int</span> result = f(k);</span><br><span class="line">        yield result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> result = <span class="keyword">switch</span> (s) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Foo"</span>: </span><br><span class="line">        yield <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Bar"</span>:</span><br><span class="line">        yield <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        System.out.println(<span class="string">"Neither Foo nor Bar, hmmm..."</span>);</span><br><span class="line">        yield <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="JEP-355-Text-Blocks-Preview"><a href="#JEP-355-Text-Blocks-Preview" class="headerlink" title="JEP 355: Text Blocks (Preview)"></a><a href="https://openjdk.java.net/jeps/355" target="_blank" rel="noopener">JEP 355: Text Blocks (Preview)</a></h2><p>멀티라인 문자열 기능이 추가되었다. 마찬가지로 아직 Preview이기 때문에 <code>--enable-preview</code> 옵션을 줘야 사용할 수 있는 기능이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String html = <span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">              "</span><span class="string">""</span>;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/07/Java13%20Releases%20notes/" data-id="ckrdkv80x000o9d2afjpublj1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java12 Releases notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/Java12%20Releases%20notes/" class="article-date">
  <time datetime="2020-09-07T13:25:09.696Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/Java12%20Releases%20notes/">Java12 Releases notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><ul>
<li><a href="https://thinkub.github.io/2020/08/26/Java10%20Releases%20notes/" target="_blank" rel="noopener">java10</a> (GA 2018/03/20)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java11%20Releases%20notes/" target="_blank" rel="noopener">java11</a> (GA 2018/09/25)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java12%20Releases%20notes/" target="_blank" rel="noopener">java12</a> (GA 2019/03/19)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java13%20Releases%20notes/" target="_blank" rel="noopener">java13</a> (GA 2019/09/17)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java14%20Releases%20notes/" target="_blank" rel="noopener">java14</a> (GA 2020/03/17)</li>
</ul>
<h2 id="JEP-189-Shenandoah-A-Low-Pause-Time-Garbage-Collector-Experimental"><a href="#JEP-189-Shenandoah-A-Low-Pause-Time-Garbage-Collector-Experimental" class="headerlink" title="JEP 189: Shenandoah: A Low-Pause-Time Garbage Collector (Experimental)"></a><a href="https://openjdk.java.net/jeps/189" target="_blank" rel="noopener">JEP 189: Shenandoah: A Low-Pause-Time Garbage Collector (Experimental)</a></h2><p>실행중인 Java 스레드와 동시에 비우기 작업을 수행하여 GC 일시 중지 시간을 줄이는 Shenandoah라는 새로운 GC (가비지 수집) 알고리즘이 추가됨. Shenandoah의 일시 중지 시간은 힙 크기와 무관(힙이 200MB이든 200GB이든 일관된 일시 중지 시간이 동일함).</p>
<h2 id="JEP-230-Microbenchmark-Suite"><a href="#JEP-230-Microbenchmark-Suite" class="headerlink" title="JEP 230: Microbenchmark Suite"></a><a href="https://openjdk.java.net/jeps/230" target="_blank" rel="noopener">JEP 230: Microbenchmark Suite</a></h2><p>JDK 소스 코드에 기본 마이크로 벤치 마크 제품군을 추가하면 개발자가 기존 마이크로 벤치 마크를 쉽게 실행하고 새 마이크로 벤치 마크를 쉽게 만들 수 있다.</p>
<h2 id="JEP-325-Switch-Expressions-Preview"><a href="#JEP-325-Switch-Expressions-Preview" class="headerlink" title="JEP 325: Switch Expressions (Preview)"></a><a href="https://openjdk.java.net/jeps/325" target="_blank" rel="noopener">JEP 325: Switch Expressions (Preview)</a></h2><p>switch문 또는 식으로 사용할 수 있도록 문을 확장하고 두 양식 모두 “전통적인”또는 “단순화 된”범위 지정 및 제어 흐름 동작을 사용할 수 있다. Preview 이므로 <code>--enable-preview</code> 옵션을 줘야 사용할 수 있는 기능이다.<br>참고 :이 JEP는 JDK 13을 대상으로 하는 <a href="https://openjdk.java.net/jeps/354" target="_blank" rel="noopener">JEP 354</a> 로 대체 된다.</p>
<p>현재 Java switch명령문 의 디자인은 C 및 C ++와 같은 언어를 밀접하게 따르고 있다.<br>예를 들어, 다음 코드에서 많은 break문은 불필요하게 장황하게 만든다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MONDAY:</span><br><span class="line">    <span class="keyword">case</span> FRIDAY:</span><br><span class="line">    <span class="keyword">case</span> SUNDAY:</span><br><span class="line">        System.out.println(<span class="number">6</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> TUESDAY:</span><br><span class="line">        System.out.println(<span class="number">7</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> THURSDAY:</span><br><span class="line">    <span class="keyword">case</span> SATURDAY:</span><br><span class="line">        System.out.println(<span class="number">8</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> WEDNESDAY:</span><br><span class="line">        System.out.println(<span class="number">9</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>아래와 같이 개선할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MONDAY, FRIDAY, SUNDAY -&gt; System.out.println(<span class="number">6</span>);</span><br><span class="line">    <span class="keyword">case</span> TUESDAY                -&gt; System.out.println(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">case</span> THURSDAY, SATURDAY     -&gt; System.out.println(<span class="number">8</span>);</span><br><span class="line">    <span class="keyword">case</span> WEDNESDAY              -&gt; System.out.println(<span class="number">9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>switch 문은 Statement에서 Expression 으로 바뀐다. 아래와 같이 Return 값을 받을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> numLetters = <span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MONDAY, FRIDAY, SUNDAY -&gt; <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">case</span> TUESDAY                -&gt; <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">case</span> THURSDAY, SATURDAY     -&gt; <span class="number">8</span>;</span><br><span class="line">    <span class="keyword">case</span> WEDNESDAY              -&gt; <span class="number">9</span>;</span><br></pre></td></tr></table></figure>

<p>아직 Preview단계이나 상당히 기대되는 변화 중 하나다.</p>
<h2 id="JEP-340-One-AArch64-Port-Not-Two"><a href="#JEP-340-One-AArch64-Port-Not-Two" class="headerlink" title="JEP 340: One AArch64 Port, Not Two"></a><a href="https://openjdk.java.net/jeps/340" target="_blank" rel="noopener">JEP 340: One AArch64 Port, Not Two</a></h2><p>ARM 포트가 1개가 된다. 32bit와, 64bit 를 유지하면서 arm64 port와 관련된 모든 소스를 제거한다.<br>그렇게 되면 하나의 64bit ARM 구현을 하고 2개 포트를 유지 관리하는 데 따르는 중복 작업을 없앨 수 있다.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/07/Java12%20Releases%20notes/" data-id="ckrdkv80w000m9d2aclltbxy5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java11 Releases notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/Java11%20Releases%20notes/" class="article-date">
  <time datetime="2020-09-07T06:21:36.964Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/Java11%20Releases%20notes/">Java11 Releases notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><ul>
<li><a href="https://thinkub.github.io/2020/08/26/Java10%20Releases%20notes/" target="_blank" rel="noopener">java10</a> (GA 2018/03/20)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java11%20Releases%20notes/" target="_blank" rel="noopener">java11</a> (GA 2018/09/25)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java12%20Releases%20notes/" target="_blank" rel="noopener">java12</a> (GA 2019/03/19)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java13%20Releases%20notes/" target="_blank" rel="noopener">java13</a> (GA 2019/09/17)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java14%20Releases%20notes/" target="_blank" rel="noopener">java14</a> (GA 2020/03/17)</li>
</ul>
<h2 id="JEP-181-Nest-Based-Access-Control"><a href="#JEP-181-Nest-Based-Access-Control" class="headerlink" title="JEP 181: Nest-Based Access Control"></a><a href="https://openjdk.java.net/jeps/181" target="_blank" rel="noopener">JEP 181: Nest-Based Access Control</a></h2><p>서로다른 클래스간 접근이 가능하도록 논리적으로 그룹화 해준다. 이 경우 private method도 접근이 가능하다.</p>
<h2 id="JEP-318-Epsilon-A-No-Op-Garbage-Collector"><a href="#JEP-318-Epsilon-A-No-Op-Garbage-Collector" class="headerlink" title="JEP 318: Epsilon: A No-Op Garbage Collector"></a><a href="https://openjdk.java.net/jeps/318" target="_blank" rel="noopener">JEP 318: Epsilon: A No-Op Garbage Collector</a></h2><p>수동으로 GC를 실행하거나 GC를 실행하지 않을 수 있다.</p>
<h2 id="JEP-333-ZGC-A-Scalable-Low-Latency-Garbage-Collector"><a href="#JEP-333-ZGC-A-Scalable-Low-Latency-Garbage-Collector" class="headerlink" title="JEP 333: ZGC: A Scalable Low-Latency Garbage Collector"></a><a href="https://openjdk.java.net/jeps/333" target="_blank" rel="noopener">JEP 333: ZGC: A Scalable Low-Latency Garbage Collector</a></h2><p>가비지 컬렉터가 동작시 JVM을 멈추게 되는데 이 시간을 10ms초과 하지 않고 G1사용에 비해 15%이하의 애플리케이션 처리량이 감소한다.<br>지원하는 플랫폼은 Linux / x64(64bit) 이다.</p>
<h2 id="JEP-320-Remove-the-Java-EE-and-CORBA-Modules"><a href="#JEP-320-Remove-the-Java-EE-and-CORBA-Modules" class="headerlink" title="JEP 320: Remove the Java EE and CORBA Modules"></a><a href="https://openjdk.java.net/jeps/320" target="_blank" rel="noopener">JEP 320: Remove the Java EE and CORBA Modules</a></h2><p>Java SE 플랫폼 및 JDK에서 Java EE 및 CORBA 모듈을 제거 됬다. 해당 모듈은 Java SE 9에서 더 이상 사용되지 않으며 향후 릴리스에서 제거 대상이다. </p>
<h2 id="JEP-321-HTTP-Client-Standard"><a href="#JEP-321-HTTP-Client-Standard" class="headerlink" title="JEP 321: HTTP Client (Standard)"></a><a href="https://openjdk.java.net/jeps/321" target="_blank" rel="noopener">JEP 321: HTTP Client (Standard)</a></h2><p>Java9 에서 도입되고 Java10에서 업데이트 된 <a href="https://openjdk.java.net/jeps/110" target="_blank" rel="noopener">JEP 110</a> Http Client api 를 표준화함</p>
<h2 id="JEP-323-Local-Variable-Syntax-for-Lambda-Parameters"><a href="#JEP-323-Local-Variable-Syntax-for-Lambda-Parameters" class="headerlink" title="JEP 323: Local-Variable Syntax for Lambda Parameters"></a><a href="https://openjdk.java.net/jeps/323" target="_blank" rel="noopener">JEP 323: Local-Variable Syntax for Lambda Parameters</a></h2><p>Java10 에서 추가된 var의 타입추론이 람다 식의 형식 매개 변수를 선언 할 때 사용 가능하다.</p>
<h2 id="JEP-328-Flight-Recorder"><a href="#JEP-328-Flight-Recorder" class="headerlink" title="JEP 328: Flight Recorder"></a><a href="https://openjdk.java.net/jeps/328" target="_blank" rel="noopener">JEP 328: Flight Recorder</a></h2><p>Java 애플리케이션 및 HotSpot JVM 문제를 해결하기 위해 오버 헤드가 적은 데이터 수집 프레임 워크를 제공함<br>기존 Oracle Java 유료 Add-on이었던 JFR(Java Flight Recoder)를 오픈소스로 공개함</p>
<h2 id="JEP-329-ChaCha20-and-Poly1305-Cryptographic-Algorithms"><a href="#JEP-329-ChaCha20-and-Poly1305-Cryptographic-Algorithms" class="headerlink" title="JEP 329: ChaCha20 and Poly1305 Cryptographic Algorithms"></a><a href="https://openjdk.java.net/jeps/329" target="_blank" rel="noopener">JEP 329: ChaCha20 and Poly1305 Cryptographic Algorithms</a></h2><p>ChaCha20 및 ChaCha20-Poly1305 암호를 구현함. ChaCha20은 사용되던 RC4 스트림 암호는 오랫동안 안전하지 않은것으로 간주되었다. RC4를 대체 할 수있는 비교적 새로운 스트림 암호</p>
<h2 id="JEP-332-Transport-Layer-Security-TLS-1-3"><a href="#JEP-332-Transport-Layer-Security-TLS-1-3" class="headerlink" title="JEP 332: Transport Layer Security (TLS) 1.3"></a><a href="https://openjdk.java.net/jeps/332" target="_blank" rel="noopener">JEP 332: Transport Layer Security (TLS) 1.3</a></h2><p>TLS (전송 계층 보안) 프로토콜 RFC 8446 버전 1.3을 구현</p>
<h2 id="JEP-335-Deprecate-the-Nashorn-JavaScript-Engine"><a href="#JEP-335-Deprecate-the-Nashorn-JavaScript-Engine" class="headerlink" title="JEP 335: Deprecate the Nashorn JavaScript Engine"></a><a href="https://openjdk.java.net/jeps/335" target="_blank" rel="noopener">JEP 335: Deprecate the Nashorn JavaScript Engine</a></h2><p>Nashorn JavaScript 엔진은 Rhino 스크립팅 엔진을 대체하기 위해 JEP 174 를 통해 JDK 8에 처음 통합되었으나 Deprecate 됨</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/09/07/Java11%20Releases%20notes/" data-id="ckrdkv80z000q9d2ag37l163z" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java10 Releases notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/26/Java10%20Releases%20notes/" class="article-date">
  <time datetime="2020-08-26T11:54:20.673Z" itemprop="datePublished">2020-08-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/26/Java10%20Releases%20notes/">Java10 Releases notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>아주 오랜 기간 블로그 작성을 못하고 있었다.<br>바빴……다기 보다 게을러 져서 ㅠㅠ<br>최근에 진행한 프로젝트까지 Java8을 사용했었다. 정신을 차리고 보니 벌써 Java14가 Release된 걸 보면서 공부를 너무 게을리 하고있구나…. 라는 생각에 정리를 해보고자 한다.</p>
<h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><ul>
<li><a href="https://thinkub.github.io/2020/08/26/Java10%20Releases%20notes/" target="_blank" rel="noopener">java10</a> (GA 2018/03/20)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java11%20Releases%20notes/" target="_blank" rel="noopener">java11</a> (GA 2018/09/25)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java12%20Releases%20notes/" target="_blank" rel="noopener">java12</a> (GA 2019/03/19)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java13%20Releases%20notes/" target="_blank" rel="noopener">java13</a> (GA 2019/09/17)</li>
<li><a href="https://thinkub.github.io/2020/09/07/Java14%20Releases%20notes/" target="_blank" rel="noopener">java14</a> (GA 2020/03/17)</li>
</ul>
<h2 id="JEP-286-Local-Variable-Type-Inference"><a href="#JEP-286-Local-Variable-Type-Inference" class="headerlink" title="JEP 286: Local-Variable Type Inference"></a><a href="https://openjdk.java.net/jeps/286" target="_blank" rel="noopener">JEP 286: Local-Variable Type Inference</a></h2><p>로컬 변수의 유형을 추론 할 수 있다. 변수는 선언시 당연하게 타입을 지정해야 했다. Java10에서는 로컬 변수 선언을 var를 이용하여 선언이 가능하며 컴파일 시 타입을 추론 할 수 있다. 개인적으론 이번 Release에서 가장 많이 사용 할 것 같다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="keyword">new</span> ArrayList&lt;String&gt;();  <span class="comment">// infers ArrayList&lt;String&gt;</span></span><br><span class="line"><span class="keyword">var</span> stream = list.stream();          <span class="comment">// infers Stream&lt;String&gt;</span></span><br></pre></td></tr></table></figure>

<p>초기화 되어있는 로컬 변수, 반복문에서 로컬 선언 된 로컬 변수로 제한됩니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> strA = <span class="string">"a"</span>;</span><br><span class="line"><span class="keyword">var</span> strB = <span class="string">"b"</span>;</span><br><span class="line"><span class="keyword">var</span> strC = <span class="string">"c"</span>;</span><br><span class="line"><span class="keyword">var</span> strs = Arrays.asList(strA, strB, strC, <span class="string">"d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> str : strs) &#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java는 이미 RHS(lambda formals, generic method type arguments, diamond)에서 이미 타입 추론을 하고 있기 때문에 이러한 표션식의 LHS에서 사용하려는 시도가 실패 할 위험이 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Main.java:<span class="number">81</span>: error: cannot infer type <span class="keyword">for</span> local</span><br><span class="line">variable x</span><br><span class="line">        <span class="keyword">var</span> x;</span><br><span class="line">            ^</span><br><span class="line">  (cannot use <span class="string">'val'</span> on variable without initializer)</span><br><span class="line"></span><br><span class="line">Main.java:<span class="number">82</span>: error: cannot infer type <span class="keyword">for</span> local</span><br><span class="line">variable f</span><br><span class="line">        <span class="keyword">var</span> f = () -&gt; &#123; &#125;;</span><br><span class="line">            ^</span><br><span class="line">  (lambda expression needs an explicit target-type) </span><br><span class="line"></span><br><span class="line">Main.java:<span class="number">83</span>: error: cannot infer type <span class="keyword">for</span> local</span><br><span class="line">variable g</span><br><span class="line">        <span class="keyword">var</span> g = <span class="keyword">null</span>;</span><br><span class="line">            ^</span><br><span class="line">  (variable initializer is <span class="string">'null'</span>)</span><br><span class="line"></span><br><span class="line">Main.java:<span class="number">84</span>: error: cannot infer type <span class="keyword">for</span> local</span><br><span class="line">variable c</span><br><span class="line">        <span class="keyword">var</span> c = l();</span><br><span class="line">            ^</span><br><span class="line">  (inferred type is non denotable)</span><br><span class="line"></span><br><span class="line">Main.java:<span class="number">195</span>: error: cannot infer type <span class="keyword">for</span> local variable m</span><br><span class="line">        <span class="keyword">var</span> m = <span class="keyword">this</span>::l;</span><br><span class="line">            ^</span><br><span class="line">  (method reference needs an explicit target-type)</span><br><span class="line"></span><br><span class="line">Main.java:<span class="number">199</span>: error: cannot infer type <span class="keyword">for</span> local variable k</span><br><span class="line">        <span class="keyword">var</span> k = &#123; <span class="number">1</span> , <span class="number">2</span> &#125;;</span><br><span class="line">            ^</span><br><span class="line">  (array initializer needs an explicit target-type)</span><br></pre></td></tr></table></figure>
<h2 id="JEP-296-Consolidate-the-JDK-Forest-into-a-Single-Repository"><a href="#JEP-296-Consolidate-the-JDK-Forest-into-a-Single-Repository" class="headerlink" title="JEP 296: Consolidate the JDK Forest into a Single Repository"></a><a href="https://openjdk.java.net/jeps/296" target="_blank" rel="noopener">JEP 296: Consolidate the JDK Forest into a Single Repository</a></h2><p>JDK 포리스트의 수많은 리포지토리를 단일 리포지토리로 결합하여 개발을 단순화하고 간소화합니다.</p>
<h2 id="JEP-304-Garbage-Collector-Interface"><a href="#JEP-304-Garbage-Collector-Interface" class="headerlink" title="JEP 304: Garbage Collector Interface"></a><a href="https://openjdk.java.net/jeps/304" target="_blank" rel="noopener">JEP 304: Garbage Collector Interface</a></h2><p>깨끗한 GC (가비지 수집기) 인터페이스를 도입하여 다양한 가비지 수집기의 소스 코드 격리를 개선합니다.</p>
<h2 id="JEP-307-Parallel-Full-GC-for-G1"><a href="#JEP-307-Parallel-Full-GC-for-G1" class="headerlink" title="JEP 307: Parallel Full GC for G1"></a><a href="https://openjdk.java.net/jeps/307" target="_blank" rel="noopener">JEP 307: Parallel Full GC for G1</a></h2><p>전체 GC를 병렬로 만들어 G1 최악의 지연 시간을 개선합니다.<br>G1 가비지 수집기는 전체 수집을 방지하도록 설계되었지만 동시 수집이 메모리를 충분히 빠르게 회수 할 수없는 경우 전체 GC 폴 백이 발생합니다. G1에 대한 전체 GC의 현재 구현은 단일 스레드 mark-sweep-compact 알고리즘을 사용합니다. mark-sweep-compact 알고리즘을 병렬화하고 Young 및 Mixed 컬렉션과 동일한 수의 스레드를 사용하려고합니다. 스레드 수는 -XX:ParallelGCThreads옵션 으로 제어 할 수 있지만 이는 Young 및 Mixed 컬렉션에 사용되는 스레드 수에도 영향을줍니다.</p>
<h2 id="JEP-310-Application-Class-Data-Sharing"><a href="#JEP-310-Application-Class-Data-Sharing" class="headerlink" title="JEP 310: Application Class-Data Sharing"></a><a href="https://openjdk.java.net/jeps/310" target="_blank" rel="noopener">JEP 310: Application Class-Data Sharing</a></h2><p>시작 및 풋 프린트를 개선하려면 기존 Class-Data Sharing(“CDS”) 기능을 확장하여 애플리케이션 클래스를 공유 아카이브에 배치 할 수 있습니다.</p>
<h2 id="JEP-312-Thread-Local-Handshakes"><a href="#JEP-312-Thread-Local-Handshakes" class="headerlink" title="JEP 312: Thread-Local Handshakes"></a><a href="https://openjdk.java.net/jeps/312" target="_blank" rel="noopener">JEP 312: Thread-Local Handshakes</a></h2><p>전역 VM safepoint를 수행하지 않고 스레드에서 콜백을 실행하는 방법을 소개합니다. 모든 스레드가 아닌 개별 스레드를 중지하는 것이 가능하고 저렴하게 만드십시오.</p>
<h2 id="JEP-313-Remove-the-Native-Header-Generation-Tool-javah"><a href="#JEP-313-Remove-the-Native-Header-Generation-Tool-javah" class="headerlink" title="JEP 313: Remove the Native-Header Generation Tool (javah)"></a><a href="https://openjdk.java.net/jeps/313" target="_blank" rel="noopener">JEP 313: Remove the Native-Header Generation Tool (javah)</a></h2><p>이 도구는 JDK 8 ( JDK-7150368 )에 추가 된 javac의 우수한 기능으로 대체되었습니다. 이 기능은 Java 소스 코드가 컴파일 될 때 원시 헤더 파일을 작성하는 기능을 제공하므로 javah는 제거 되었습니다.</p>
<h2 id="JEP-314-Additional-Unicode-Language-Tag-Extensions"><a href="#JEP-314-Additional-Unicode-Language-Tag-Extensions" class="headerlink" title="JEP 314: Additional Unicode Language-Tag Extensions"></a><a href="https://openjdk.java.net/jeps/314" target="_blank" rel="noopener">JEP 314: Additional Unicode Language-Tag Extensions</a></h2><p>java.util.LocaleBCP 47 언어 태그의 추가 유니 코드 확장을 구현하도록 관련 API를 개선 합니다.<br>지원 BCP 47 개 언어 태그는 초기 하였다 자바 SE 7에 추가 된 캘린더와 숫자로 제한 유니 코드 로케일 확장에 대한 지원. 이 JEP는 관련 JDK 클래스에서 최신 LDML 사양에 지정된 더 많은 확장을 구현합니다.</p>
<h2 id="JEP-316-Heap-Allocation-on-Alternative-Memory-Devices"><a href="#JEP-316-Heap-Allocation-on-Alternative-Memory-Devices" class="headerlink" title="JEP 316: Heap Allocation on Alternative Memory Devices"></a><a href="https://openjdk.java.net/jeps/316" target="_blank" rel="noopener">JEP 316: Heap Allocation on Alternative Memory Devices</a></h2><p>사용자가 지정한 NV-DIMM과 같은 대체 메모리 장치에 Java 개체 힙을 할당하도록 HotSpot VM을 활성화합니다.</p>
<h2 id="JEP-317-Experimental-Java-Based-JIT-Compiler"><a href="#JEP-317-Experimental-Java-Based-JIT-Compiler" class="headerlink" title="JEP 317: Experimental Java-Based JIT Compiler"></a><a href="https://openjdk.java.net/jeps/317" target="_blank" rel="noopener">JEP 317: Experimental Java-Based JIT Compiler</a></h2><p>Linux / x64 플랫폼에서 실험적인 JIT 컴파일러로 사용할 Java 기반 JIT 컴파일러 Graal을 활성화합니다.<br>Graal을 Linux / x64 플랫폼부터 실험적인 JIT 컴파일러로 사용하도록 설정합니다. Graal은 JDK 9에 도입 된 JVMCI (JVM 컴파일러 인터페이스)를 사용합니다. Graal은 이미 JDK에 있으므로 실험적인 JIT로 활성화하는 것은 주로 테스트 및 디버깅 작업이 될 것입니다.<br>Graal을 JIT 컴파일러로 활성화하려면 java명령 줄 에서 다음 옵션을 사용하십시오 .</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-XX:+UnlockExperimentalVMOptions -XX:+UseJVMCICompiler</span><br></pre></td></tr></table></figure>

<h2 id="JEP-319-Root-Certificates"><a href="#JEP-319-Root-Certificates" class="headerlink" title="JEP 319: Root Certificates"></a><a href="https://openjdk.java.net/jeps/319" target="_blank" rel="noopener">JEP 319: Root Certificates</a></h2><p>JDK에서 기본 루트 인증 기관 (CA) 인증서 세트를 제공하십시오.<br>OpenJDK 빌드를 개발자에게 더 매력적으로 만들고 이러한 빌드와 Oracle JDK 빌드 간의 차이를 줄이기 위해 Oracle Java SE Root CA 프로그램에서 루트 인증서를 오픈 소스합니다.<br>cacerts스토어는 오라클의 자바 SE 루트 CA 프로그램의 CA에서 발급 루트 인증서 세트로 채워집니다. 전제 조건으로 각 CA는 Oracle에 인증서를 오픈 소스 할 수있는 권한을 부여하기 위해 OCA (Oracle Contributor Agreement) 또는 이와 동등한 계약에 서명해야합니다 . 다음은 필수 계약에 서명 한 CA와 포함될 루트 인증서 (고유 이름으로 식별) 목록입니다. 이 목록에는 현재 Oracle Java SE Root CA 프로그램의 구성원 인 CA 대부분이 포함됩니다. 계약에 서명하지 않은 사람은 현재 포함되지 않습니다. 처리하는 데 더 오래 걸리는 항목은 다음 릴리스에 포함됩니다.</p>
<h2 id="JEP-322-Time-Based-Release-Versioning"><a href="#JEP-322-Time-Based-Release-Versioning" class="headerlink" title="JEP 322: Time-Based Release Versioning"></a><a href="https://openjdk.java.net/jeps/322" target="_blank" rel="noopener">JEP 322: Time-Based Release Versioning</a></h2><p>현재 및 미래의 시간 기반 릴리스 모델에 대해 Java SE 플랫폼 및 JDK의 버전 문자열 체계와 관련 버전 관리 정보를 수정합니다.<br>버전 번호 , $VNUM기간 문자 (U + 002E)에 의해 분리 된 소자 비어 시퀀스이다. 요소는 0이거나 선행 0이없는 부호없는 정수입니다. 버전 번호의 마지막 요소는 0이 아니어야합니다. 요소가 증가하면 모든 후속 요소가 제거됩니다. 형식은 다음과 같습니다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1-9][0-9]*((\.0)*\.[1-9][0-9]*)*</span><br><span class="line">`</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/26/Java10%20Releases%20notes/" data-id="ckrdkv80y000p9d2aa2j5hrei" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-VSCode로 Spring Boot 사용시 profile설정" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/04/VSCode%EB%A1%9C%20Spring%20Boot%20%EC%82%AC%EC%9A%A9%EC%8B%9C%20profile%EC%84%A4%EC%A0%95/" class="article-date">
  <time datetime="2020-03-04T02:35:10.110Z" itemprop="datePublished">2020-03-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/04/VSCode%EB%A1%9C%20Spring%20Boot%20%EC%82%AC%EC%9A%A9%EC%8B%9C%20profile%EC%84%A4%EC%A0%95/">VSCode로 Spring Boot 사용시 profile설정</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>전 글에서 VSCode를 이용해서 spring boot project를 구동해봤습니다.<br>시작한 김에 기존 project를 local에서 구동해보려고 시도를 했는데….. local 에서 구동이 되지 않는 문제가 발생했습니다.<br><strong>결론부터 말하면 application 구동시 spring profiles 설정을 하지 않았기 때문입니다.</strong></p>
<h1 id="Spring-Profiles"><a href="#Spring-Profiles" class="headerlink" title="Spring Profiles"></a>Spring Profiles</h1><p>spring boot를 이용해 application 개발시 각종 설정에 대한 정보를 <strong>application.yml</strong> 에 작성합니다.<br>어떤 port를 사용할지, logging 전략은 어떤식으로 구성할지, 어떤 DB를 사용하고 해당 db에 대한 접속 정보를 작성하는 등 많은 설정을 작성하게 됩니다. (물론 중요정보가 있는 설정의 경우는 application.yml 에 설정하지 않는것을 지향합니다.)<br>그리고 해당 설정 정보는 대부분 phase마다 다르게 구성합니다. </p>
<p>spring은 profiles라는 기능을 통해 구동되는 환경에 따라 설정값을 구분 지을 수 있도록 해줍니다.</p>
<h1 id="Profiles가-설정된-application-구동"><a href="#Profiles가-설정된-application-구동" class="headerlink" title="Profiles가 설정된 application 구동"></a>Profiles가 설정된 application 구동</h1><p>예전에 개발했던 broker-api를 구동해보겠습니다.</p>
<h3 id="application-yml"><a href="#application-yml" class="headerlink" title="application.yml"></a>application.yml</h3><ul>
<li>아래 설정과 같이 <strong>local</strong>과 <strong>prod</strong>의 mongodb 접속 설정정보와 application의 port번호가 다르게 설정되어있다.<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">mongodb:</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">local</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">local123</span></span><br><span class="line">      <span class="attr">database:</span> <span class="string">local</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">27017</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">prod</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">mongodb:</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">prod</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">prod123</span></span><br><span class="line">      <span class="attr">database:</span> <span class="string">prod</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">27018</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">18081</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="VSCode에서-Application-구동"><a href="#VSCode에서-Application-구동" class="headerlink" title="VSCode에서 Application 구동"></a>VSCode에서 Application 구동</h3><ul>
<li><p>applicatin 구동 시키면 아래처럼 logo만 출력되고 application 이 down 되어버림.<br><img src="/img/2020/03/04/1.png" alt=""></p>
</li>
<li><p>debug를 해보면 아래와 같이 <strong>java.lang.IllegalArgumentException: Could not resolve placeholder ‘spring.data.mongodb.uri’ in value “${spring.data.mongodb.uri}</strong> 오류가 발생합니다.<br><img src="/img/2020/03/04/2.png" alt=""></p>
</li>
<li><p>mongoDB 관련 configuration 에서 해당 정보를 설정 파일에서 가져오지 못하는 문제가 있습니다.<br><img src="/img/2020/03/04/3.png" alt=""></p>
</li>
</ul>
<h3 id="해결"><a href="#해결" class="headerlink" title="해결"></a>해결</h3><ul>
<li><p>위 설정과 같이 spring profiles를 사용하는 경우 application 구동시 어떤 profiles를 사용할지에 대해 정의 해줘야 합니다.</p>
</li>
<li><p>VSCode는 해당 설정을 <strong>launch.json</strong> 에서 할 수 있습니다.<br><img src="/img/2020/03/04/4.png" alt=""></p>
</li>
<li><p>args 에 spring profile 설정을 정의하겠습니다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"configurations"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"java"</span>,</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Spring Boot-BrokerApiApplication&lt;broker-api&gt;"</span>,</span><br><span class="line">            <span class="attr">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">            <span class="attr">"cwd"</span>: <span class="string">"$&#123;workspaceFolder&#125;"</span>,</span><br><span class="line">            <span class="attr">"console"</span>: <span class="string">"internalConsole"</span>,</span><br><span class="line">            <span class="attr">"mainClass"</span>: <span class="string">"com.saltlux.brokerapi.BrokerApiApplication"</span>,</span><br><span class="line">            <span class="attr">"projectName"</span>: <span class="string">"broker-api"</span>,</span><br><span class="line">            <span class="attr">"args"</span>: <span class="string">"--spring.profiles.active=local"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/2020/03/04/5.png" alt=""></p>
</li>
<li><p>application 재기동<br><img src="/img/2020/03/04/6.png" alt=""><br><img src="/img/2020/03/04/7.png" alt=""></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/04/VSCode%EB%A1%9C%20Spring%20Boot%20%EC%82%AC%EC%9A%A9%EC%8B%9C%20profile%EC%84%A4%EC%A0%95/" data-id="ckrdkv81900109d2a03g53xqd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/21/%EC%97%98%EB%A0%88%EA%B0%95%ED%8A%B8%20%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%201-1/">엘레강트 오브젝트 1-1</a>
          </li>
        
          <li>
            <a href="/2020/09/24/Spring%20Rest%20Doc/">Spring Rest Doc</a>
          </li>
        
          <li>
            <a href="/2020/09/14/JPA%20Cascade/">JPA Cascade</a>
          </li>
        
          <li>
            <a href="/2020/09/08/JPA%20Entity%20LifeCycle/">JPA Entity LifeCycle</a>
          </li>
        
          <li>
            <a href="/2020/09/07/Java14%20Releases%20notes/">Java14 Releases notes</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Ming<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>